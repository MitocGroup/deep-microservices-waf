language: node_js
sudo: required
node_js:
  - '6.10'
  - '7.8'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        UvGuoHqARdFjTfPnOJOf9acmgqnq3pdv/uXcE5+b0On5mhLe6k2Xnhe6ZLX/Li/HY3kVhS90Z91QpM0YXYnRF0cRogWW92U/fUXVLZ5TY+S3cXa1Lefvz3skMprcxZmM/aCW0AJ2hnux8xDa2tzqpUHDhvFH2IlXGRnPRknhkmrUGV3VSvmf/gF1yXvlMqFoj34u79AmWyLtmCMp3bvK3qgrg7JHEFGMR7AzqsYgHiA+hyjlCqCg6fOiWuwWMQxsXviPfj4ABwr5nbNniYjjODECR1kNrDg6cZ0jd6omMaVqOTIuxB2f2CRGfue2a/YnPUWCqCxbl6cKFcDraHydO6PFgnmSewIxBRuz6HFJMn5Q9I70pk6yH/1+k48LlNi68G1Y3i+arlGgBH2qspdsKt336bFwSNuHq+oepCrvIbCC51PPlnRQq9an9IWe92kirfJJmo5j6uTE30hTiH/bLbNvBhHlV/0dXh4yqyzGNkMy9rlvPzzNvTD6A7Ez3SN2AWgSZ6JPP2yShEHrLDPsVgkSf6KKwV2Pr8W2A3UHWo5XGwfxnIydvB5jBjJEnEGc87zHhQj+Gro0L7FUUSW3DvXB3tbVN7yx7Km3lih+cAJOh9D41nYNie+hycHiGaBmYcCeuzNyMUagw3dK9FDPZavwIbpV/T+CMD1GTaC6VFU=
    - secure: 
        p8E8un9Ri935cglaxFSS7V5zxpFbO//u0fqDd3YMPE5hZBLG8F8BqIrooBJfSPFqdET80K6L6dhyPBlcvggUsEy/qtqglHs8N7uJzb8qfMshfX4PnB9hXP/xNGPGH7gt1/vyqVtjumeK8LApXBBcTnR5A8lRlCANkRxOD2gHgjtoeIJSI24oBWNAD3EbYeoMXkcBD/J6tsrcL7ukp5MuEEPG/1sFiDh0+ysVixivyEfUBRwBO/z735+6wDuX/5ZnNW6u1B+JK5cjbiCJJbDuKmlCqlU004Ym10UuG2UhswwIdLltX5vtP+XAbuAVQ55SroKZtUQEc4EKlSn0lzDeaDZbxr4UewOtoAJGZ+YVXK41qqGIf/DyPUFR01fccgY38iUURz2oSoft/K01vn2+leqwtP5QiuyQM2O9YbDdzqmKlzoK+31FRB9XPyeHFXxHLfNzbXT0hEwaX2okxe57eMJ6lPqDwmqDhosEfdkmvyuJVrFOBsy2iYBA9tCY/AIj3GFAKAOTd4UHbNEywQdzkcL6zoNGBlVNPxfSrYirr4JtF8HB0e9zKDvC8ddduwU0qORkLI0Rz7ClUHGiLf/GUnb12vXOBaScpuvU8ziXO3ofz0/oZlWNE1lQhUuUo/Xe6HdXZhnhGpkmS36kpLFZQ+H9vQ4nxqUBuuWUDwLu9gw=
    - secure: 
        8MUVRamIXX9CwsB1VpAIFn/KyvXQS9o1AJhYaF1zNvegBqH/G7G9Fn8BY5KvQr/wpgWs+rhGv1EZLpdBDJ7nyX5wAmX/1rNPGXhrGoVWHBQ5z4l9H6pGDr3AwWIgJZi5B20tLUMZLAKXO1hl8/ZOzVwQh2TfNNXAEmCEO5hbQcu8aYpL+0zk3cI1nakTEeZ4WzJHFRCnCp5MuCuou2NOuXZ7VVyqJ72CMyu9bKzex+QAHBio+VUs+6ftQUE882lWt1SVsW0SqGVnNbYW20HJyK3c67vilBB5clNfrMSp5VUOspopPjJ6epLEjk9aAuIJSSyunBMtpHc5nzxMcHpxuAQgbiR6gGKuTA3HOCbOukx6SyoaWpAeu+OhoobfWZK61M3NwphI3D+k275aNrLp5g4R1ht2ShQcnwBOTqTLBkPDQJup4n1K+UDQbHvZyoEcAK6HAlvsiBFTe/IAc/iWKpD/+Tz5cP3q7kbpg+uaF0EomwxD/cF1I0J/v9n+03VVW3dh3DqMU7iUt+Sdpe0/v8QBLjYU2gmsvgVbKg+83hM/q2u6xcPLbykeOS58f8+7KBhFfkxMAM+MTi78L5PPyk9Yn7IRnQP3Dw1dsGMDrHiJ35txvP4tUdpB7VY5Mmuv6QeZOwVUusNVuAg0u0hlJUquh76mRjyCJx5fjJBg7WE=
    - secure: 
        4P2SLpRUBj4WLF4t1yELPaBQ10aHq5UXSIAD9ozDrqOgdXSsv3hamk8jqRwMTIIYnGfra7WBp7EaiCn/+BVygFKS6+uXPtpLjZobA3GLbFNhULdJZIdqRBTlql2bq+ImIFOM2kdZeayd/PqWD8XPA8I4OqYbIzgGUp5tGDIXk4JUCXKIQvWCZyoMXns8mArXEuEjfwb+nxmE9Xa/RGCaR2O6/2c8gne5wNgNXQDXT/6juokCgZhPIOqfaPTMJawrBkS9tSyJ5jrGKc8Ojt+o+ywQu0Rw5zA0Ia+98So0gC/cNGLJ0ANK1G9GBPbIQGQj4+d9MmTO55Tx5S0eHgp895/ej8Wjj0MqCc0QQp22JYhFCc1qt9aXwp4Q39sVDvHLsj3rpnRtrq+JD2E+VuSle0DyrZijT+q2NE/U+XNZTZa5IlK6tIQen/IWphm1Ikm/F9r2WQt5M01GX4qZGtnQwRNfsw3zKtuMNvKMpDTH7T9nlf8owJC+vaW0ZtyBQnchzNQRpe6cD384hvtCDBxWtY/O6+Engt0J8BJlQGppJH4asbaem9dWgulEdjs154yRrdjwnzmrv/cHsGqf3//K0u0Mp8vflXrbPPYKfDPOOE8e+Ki4yQM3ivy6xSZvlZgAB/a8l2yb5nWr8toN61u6ZZ2S4w26SLXQyQjr0vTtRrE=
    - secure: 
        Qb0RJ4a4yLDuCOEhq5TOrXZFkwUz+UuTMKiPk8W3o3otrCmQVMIfUvNp36RU+OahR5hVGwRpiBEPwkZ05YIle1nQDYISmQxUuC0PlQTfAlbQzKVX9IQP1uW1ijW2g825SubI2R2ZrVux6akeTx0KGLiZ84wxJSA8JdvFeG7BSEC1hKBgwIdqtIqfEe0ANNuHiqB777ElC5HoHH7n+fSIOgrlJfrd37qyulZEMzAsAG+V/rWuccjIOvcxxLTieYH+R6JGgVIUeKwsjaFEkTctVAmeKybWbpUwJ+eYC5ceeq2/DL/O50TE7IOY3vQbaQhxBbLO/azQLTnBR+2hCaA5QwfVIgVjLFM6KhkJGlBTh+W1LEVYdf73gwDHzf1i94L+pXfysROHGD8VzFsWPdpYPDB8G4vgOFiRiQ2NKyOvT/VFFqmFFUoJaNN1dRlyGOa2sLj5SSgDSF37y7m+DBaJznE1I6Yz8TAJXh9G5Hkw/fyndSk14wHZPqL1un8EhlP/3RaY8zNyWxM8DAnvsNQWcSCuIQk9uROUnB2wnF/CB0l9aupvuK090zzH6w3b46NLDJgdSHOOuzQKpPz7dXLhQP7jctviiwvFGvJKrVh9T1OgOlBzRlFIffX753pIOXWOE75UWvb1TxYJLavWRsv4j4BwjHBH/5tw5h7SLzuTXsk=
    - secure: 
        fwV1NxqHwPkF6Faayb+TuTiNpR6im2GyNKb3aWdoEt16FAaqah4I31E1+kIgfvg8apqgVWr+zV3LVF2CXZLMmVBdfMofvIji4vOo6cmIOtTeuQn14RNB66tKUnFeUSB9urch/HmWSeGHrHMZ1835pliJbudoJW5EMByHX+dwINHAJJsBvaKF2HA9N5JRjVySuTL2RYuIuCut+K5vy2IN+79W1xiJgSGXavaBdt8MMiIIarKaCklUDzoL2Ycy7qv7mTTMUsLhv2jLwGG3zk8nkWNlmC1LBUFXOkSkZQ4R/aaLBG5hPnfi4/KUeRti3qJ+kV4DUbIiMUWMCCMHqdy6jFak2F3fj176AAS04AKxw/UH1hy3v5UsE2bFerB6x840NQBi00PTe7lx6PYfx9PKAIjBDfcYWeFODIUpL/k+4BsCC3bWM4rxiWxBilXCLXH6kNmUNqIe2LSVRmo8Vh1hxUZknTW4Oo1+E25a4QXB557SHUF8BWN0OB1FIzZSD1xMNqqSmYjZ6vdmyLJ3hzQz667vqm7rDMix2wCyIv6QqHk2+rHhZj/gaejVZ7oVL52OWWJhuasrdKe87SUWkT5khE1c/S4dDfzm6o5tOS3ur74MvDtiq75NVhtITYF3dyZJlgk5BjoSZIkrAwFbPE+5xCj+GVWR+tsM8Se39TRf6zQ=
    - secure: 
        N+hm502f3E0Ol9TSkSkulLEOo5xxEpzZlwjl74S8VIwRB8+ojDKqUsTNnH6psDZMs4XJ4pzAPBdlrWdnb2w4oA3HkaRo0HrnOe/vtiyHj7WLrviEQBRIRlpHl+Ba3Q1cvx6w5I2uDZKFr5q2ZgxyA2sOMq19T/GCAlrilXIp2k5U64mLw0eEFdKNZlskQBxczJMK1eEU6e9gyjy8FQbp3FgZxe451c4OjlOuu9+qOhwA3WNc8gEuSwdbFseavIimoiXI2FxZ+YDCRep0XYHdE1S28cIR/9ZwKjmqWXvLhr7KFern5nbfwbfgEiL6sOPfc2L5TQVZdVYmuNp3yGvO1RavhLNbAIU+UsMIVRarJ2hpNNSdtgd2mI1x4dRxo+5RNeYbDxwrPCH4EUPt444N+O0N/ishovU1pPFpnuJG1UHIkNo25mMdeqlQSiLCtQiG4NpDkoDVedope/GxS0L7xyXeHM96ha7mJqwsjBGOhL+MRiThvj49m4lpfPwzbcsXZZlsvqr4hqWx4AyVlBar+FzyWcmAxm/+R/YygOKwzK6nzKKF7642/r6PWB3K2414h9KZczJ+6PPDXX3NkfpdHSxp5qFy97T7xJWCcc6nPw0h6+csHz7lJ7UNv9JSMBZts+DDu2AgnfNBgf8VoKh5C/li82EgpBdm+s7SmcBMGAY=
    - secure: 
        GBZmB0UALkHNrHEseounDAVXF6KlvSXCuU4+76XrSRKA9VoAMdbxskFwqXxLtuNxoWxFU2XcYXhCHfwdZf5RJTcsKKXY0bohTkrXa99gHnKpJMYD8gzRV3ZjDU6Ze9KXp6u9DMGOU/2hp7KX7eqVuKfpancPl3X6iCLQfYnDD53QtPfB1BZlVHN3Ys8V8QgRBXwr0XMlcM+8sCHbBGbpGe9HQ0jX2UF2BZqpMQOwsSCjs4CKTn3J0ItQXM0gUkDlXGoooRb7aRrt+UULQ3u8yrDuleA6JiT+0qagqaxJLy1O0gzwNHpbnM7+bAOp5w5aefq5XcaZImSBBuHxY4vB4tVEX6CMs7X5N8ffroXz+M/9kp96OAUowJYTa3KjY465wViGxMXk17hm2Gtlidv0wgczdnGzC7BDJ/a5kOTQQ5xS8X0YJAcU2vfuEy5a6+q37dgjggf7BBGGcnBxYbNwlZbEoyRRVHUBojWKayJA35wFhoWWlyPA0WcxVBVtg9ZAExSwohSpER3Iyuul2ZW/Fe3xRlHFEnF3WxskSa6xJntlB+Of6AgdY6lZ0ttGgSYiUTO8wMmfP444s7sNJ5aMPseFShHu8HnO+HkP+HHzbAOdKmBsC9U6+PsCdIMCufRto2TELPQW+ySJddvZyG66UFDnaM/f20V1ufzHP5qfHuA=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      N68DKTWA99zseRsJVB2aKNVxnXdQTD8sizWyKJqb1yFKXBRIqCz1zoOdPXLo/K2vanFc7DJ5LZqQjoEGf/vM/L7qV5Mws62jzFkTIMVnL7OyCt8yFlnKNf81zAD7cPowcLLZT/u6jpCXTODT2akHt0Q1YHIIdvTHQNAUMQ9JSpiLJQqt6kvfFsuq8W1fgOWuJQLRMw6PQMiCIby7FtuYNiXR3e4wmzrob4JJLZtBAd/EPlHGjPlpFBdiAfmVBR1tp6ibnUNgv0HMm7dxu9128spOLcgtBiqDRaUVFoF0InGoux1rRaIF/FuMtcupQjgHGQTz3FW6XbLygh6GH2Qc/+4tQS7ZTP42aeXGwt8UqQqIabMpaz1nAojxz4av8sw/CKZMwGwc9LbuDsBbnxLF6N2GtDHODy11rIuq5BxFYuaCncb+TCZaAUtsY94Ijp4zoRczpQbdLwJGbJm4v0G5qRXHDcvvTHufeQCdA69WZc156aOPY6J7Kliqxu6gXwtqZ/HHmRqxwJy7EtKNW5mImQP920ZfiFwWhuLbInWKzlo6TiuTlsWQJemvCfc+27ElOST98c9MnjRJ20v9fXn3kBit1bQxa/yPGe09S1bk8mhaJw3xwPP2vDx0zG+U9gGBAsi/tns3VxUqFEIUkWD6T9PVT6w6w7Zwh/+ZeeBI/5w=
