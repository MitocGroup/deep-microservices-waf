language: node_js
sudo: required
node_js:
  - '4.3'
  - '7.1'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        UvGuoHqARdFjTfPnOJOf9acmgqnq3pdv/uXcE5+b0On5mhLe6k2Xnhe6ZLX/Li/HY3kVhS90Z91QpM0YXYnRF0cRogWW92U/fUXVLZ5TY+S3cXa1Lefvz3skMprcxZmM/aCW0AJ2hnux8xDa2tzqpUHDhvFH2IlXGRnPRknhkmrUGV3VSvmf/gF1yXvlMqFoj34u79AmWyLtmCMp3bvK3qgrg7JHEFGMR7AzqsYgHiA+hyjlCqCg6fOiWuwWMQxsXviPfj4ABwr5nbNniYjjODECR1kNrDg6cZ0jd6omMaVqOTIuxB2f2CRGfue2a/YnPUWCqCxbl6cKFcDraHydO6PFgnmSewIxBRuz6HFJMn5Q9I70pk6yH/1+k48LlNi68G1Y3i+arlGgBH2qspdsKt336bFwSNuHq+oepCrvIbCC51PPlnRQq9an9IWe92kirfJJmo5j6uTE30hTiH/bLbNvBhHlV/0dXh4yqyzGNkMy9rlvPzzNvTD6A7Ez3SN2AWgSZ6JPP2yShEHrLDPsVgkSf6KKwV2Pr8W2A3UHWo5XGwfxnIydvB5jBjJEnEGc87zHhQj+Gro0L7FUUSW3DvXB3tbVN7yx7Km3lih+cAJOh9D41nYNie+hycHiGaBmYcCeuzNyMUagw3dK9FDPZavwIbpV/T+CMD1GTaC6VFU=
    - secure: 
        9/74AGRi92aqqIeQJvTtMBSJnvPKOxXDmR7PkrX7efTlvVUXrTLmp+tEvr2TE7ZOqdpQilOv4laEb4meKjIzeA1TMRuwPMLHHzt/fZ2XMJt7mutXZhsYSk/p5fVnRT7c5GMQNe34Er6mMv6WdIn4/LRNBvRDAh+fg08U60uhLidzOLcPra7i+AGSQOoH1Yq5VDrJenTwaDdrdCqU4+TMWdClOzTVpIyA7gAIPPi/4y1GyQ2OULHdpMumYacm3ZHoj2pNB+exzV/CooIp7+1bHf7swhEcbPMM8A8iNjOVswn5njQJiJpU0ayKuXuYKNF9F3OxX7R8mU0EsWUPC4fTZy5GEiNIrGhHTgAhlekZQMSNUmYpiN/AzOnCXzgcn7vJ3s8oDGOLI2GMilBlbkNYfW1QNG1+gVHMJ53+cK++Np264j2bRepiO4+T91e2f9tLWRvL5bxZsa9HdSjrUf3t+g8hHHboRaKPPcEVqP2qngwvwtxhN3aSDenaxE6l2fC+vrb59TmSAEXABR+Qw0kjxor/61BMor29QhNAOujbzY5weXPSMHvJ62vXxjKFvelX8qxEyRKuYhiT8ddVLTxNifGFfthXCIn9D2XyQuqIh++2AOvT86Uf5HEKvauiNuHh/JvbvOloG4VMKz1N+8zwIFhHuinieAcXMHE1SZIplhM=
    - secure: 
        mwk+aHtJQ8PSBYCDN2tn1Vn3OGH++i9R4iIaNIFIq/MsW5AQ0nsE8JPdOyMmxDfnUoQFnJEc/nHc/RAEM0koG1+km0nSdBUf93V+ET9+ejls/Vyif/dghTj7bG6qzSutRKTY3RdARU5r8hM0RrnSLfp7eXwkRNwnc4bqucicMBfsj6ljpoCjA0yXjeqvaWSEOna9oHwzH4I4zOWsMYP6kbzDBEshU4ak7FBePIVWg7pdhoO7nmXpRALQK3DIxkuMY3LEj0py4PhUuwpntFeADgwKts+v7CR/vxzH7W89yo1Xep4Oa9X2IBpFXR7CNynDeBMwaSW5vFsFueALBR2m788ohPs1oi//89Nxn3nv4Kc6hfEFM1ndfXr4SBFS4KKN60Ae2IsO+vVvHfjDT4Fd+4CpPLxkMbbYLYiU/oZlERQQGFAjw1rX9chbbEdp3ma+jY7KgWnfqC4fO0k0yXxD9iGb7lseIEB/F2cBTTXuO2SSxWQzAmeilxLL9//sHuuJzEHcIXE1aR82wA8o/FjWZMgACYGvngigjwwU9WwdvFpryQlhjP5Oza2lYaplkXlRVKnqvgER1Ggst7jxStoo5ZNoXnhjBpzW+0gx6ptfG3RpTVTdjMCcpHppN8CGxAqd2bX0K2xedNTN0Xk75+N3m7BArYYirJNBCBd7Mjr8QaA=
    - secure: 
        p8E8un9Ri935cglaxFSS7V5zxpFbO//u0fqDd3YMPE5hZBLG8F8BqIrooBJfSPFqdET80K6L6dhyPBlcvggUsEy/qtqglHs8N7uJzb8qfMshfX4PnB9hXP/xNGPGH7gt1/vyqVtjumeK8LApXBBcTnR5A8lRlCANkRxOD2gHgjtoeIJSI24oBWNAD3EbYeoMXkcBD/J6tsrcL7ukp5MuEEPG/1sFiDh0+ysVixivyEfUBRwBO/z735+6wDuX/5ZnNW6u1B+JK5cjbiCJJbDuKmlCqlU004Ym10UuG2UhswwIdLltX5vtP+XAbuAVQ55SroKZtUQEc4EKlSn0lzDeaDZbxr4UewOtoAJGZ+YVXK41qqGIf/DyPUFR01fccgY38iUURz2oSoft/K01vn2+leqwtP5QiuyQM2O9YbDdzqmKlzoK+31FRB9XPyeHFXxHLfNzbXT0hEwaX2okxe57eMJ6lPqDwmqDhosEfdkmvyuJVrFOBsy2iYBA9tCY/AIj3GFAKAOTd4UHbNEywQdzkcL6zoNGBlVNPxfSrYirr4JtF8HB0e9zKDvC8ddduwU0qORkLI0Rz7ClUHGiLf/GUnb12vXOBaScpuvU8ziXO3ofz0/oZlWNE1lQhUuUo/Xe6HdXZhnhGpkmS36kpLFZQ+H9vQ4nxqUBuuWUDwLu9gw=
    - secure: 
        qOJltVaNUUfpViA4grKBL60kJhT/QDNxRF3LTXgoHvRxPA2bihHEZThKJ82It27torgbJzUsFcw/yFAAftIylyTBmyzMZLorwpW0YXCODN+AvGzUsRPlZlTDCHBdaX44v5gItflrBAfW/tbiBfeVhVpljnqnLm8t5gfdb1NJ4hIcHZdIKl6K5eKjuZVAYKIodVEtcjWEWCNTxgtD3oJPT5ap/2SdJubhELViJ9GW2amLHU7SWQL/P0aP0IVuMlmTBhM1aDtfONdKAG6EYb9OxUchsmEgA8cWnFHqxawT/JJugTRbd4KVAttM8GPTmqdPCfJi2uhyQJeZna/1x0VIMLkLmju9eTuOKmHZi72m8PNEzNAC12ccMjMn3Asg9pwuwIowwFNJrF+wxnu1cVUpwAfzkfENo918yXwwChZlL+TRKSUIrcv6eABEZUqMGTTA41P/Dz5Bvm9ZDF/uGWyg+zPYuLinYBoGOR+KoFnrOvYChAjRsOAtlmT15UehXbtu8KXAU7BxTvyCQsua+n5V6JPNCYsUv2+l7JfI6rCG3HOPS2kMiJdopf2LzIGV+ByAsS45OGnUs+1oSvnt4TA+On9m+qo5ZGFvBloCDo3K8CqyZ5v4hwevuVXkKkCEHAdqPbOE+JuMpzA7xge3b/Q758Pn0uUQD4KQQhmEeoE2NYI=
    - secure: 
        PRvGgdECEJeJ1Ow85Hy9voGTgw0RkB1eetJQR6/pw2lJPr6iE61ElhHxQLaMZQWeOGqOiWWhG1lpokk7rxOs4/jdlaUgskN3fY/V4y+4WixEqDukuYhoQzUrhktn9UI1KEZxz4lZMc21+vt3Y2O2VOiOhdFmkb56CXk+UbZE1DXvFqN1X475RKFklL6GClTPKStdMTmm4CloW5kgJ+TG1/KGW6BnY/o+q3AYizsAVwsqtjn3sJ6khSlFPI3+kLZE9y8jSbuj7eQlMpr1DkJAmm34qJRgu3O7kKrO6CGfjJ6iPFc4wNseDPUv9NwhPMyp9sI5MzeIleHpf/iD4QQ839qZu9P2LyTB1vLEfvCceU+8KTVDexurYEyFpstSZ7oIlUpRSrbxF1LlWPXiYr+CG20UoMf4m7oIpx9/5AxkhcMwH20oMtZSQnXoa5lGghdv0mKQTC77AFyAAfbkPM20UqnnyEu5ugRlg+Wdw17R9TjvlTP2N6sS8GygbcWNZ1TUibuUGqzEp1/pJLl5gqLUHBKZIxE1ob0o7rWsyVrQwS2l7YOdRHFvE6I/1tV/k9aY1zM39WWbfKk4LdvWBFwr56DswPVIJSkiM5yuQ79yKBowIJM8upcjeoDd5NkOcoEq3MGqJK+ySKSlcM0KD3Xs3k9ZB7xxbW2zuUYC0NHK3QI=
    - secure: 
        8MUVRamIXX9CwsB1VpAIFn/KyvXQS9o1AJhYaF1zNvegBqH/G7G9Fn8BY5KvQr/wpgWs+rhGv1EZLpdBDJ7nyX5wAmX/1rNPGXhrGoVWHBQ5z4l9H6pGDr3AwWIgJZi5B20tLUMZLAKXO1hl8/ZOzVwQh2TfNNXAEmCEO5hbQcu8aYpL+0zk3cI1nakTEeZ4WzJHFRCnCp5MuCuou2NOuXZ7VVyqJ72CMyu9bKzex+QAHBio+VUs+6ftQUE882lWt1SVsW0SqGVnNbYW20HJyK3c67vilBB5clNfrMSp5VUOspopPjJ6epLEjk9aAuIJSSyunBMtpHc5nzxMcHpxuAQgbiR6gGKuTA3HOCbOukx6SyoaWpAeu+OhoobfWZK61M3NwphI3D+k275aNrLp5g4R1ht2ShQcnwBOTqTLBkPDQJup4n1K+UDQbHvZyoEcAK6HAlvsiBFTe/IAc/iWKpD/+Tz5cP3q7kbpg+uaF0EomwxD/cF1I0J/v9n+03VVW3dh3DqMU7iUt+Sdpe0/v8QBLjYU2gmsvgVbKg+83hM/q2u6xcPLbykeOS58f8+7KBhFfkxMAM+MTi78L5PPyk9Yn7IRnQP3Dw1dsGMDrHiJ35txvP4tUdpB7VY5Mmuv6QeZOwVUusNVuAg0u0hlJUquh76mRjyCJx5fjJBg7WE=
    - secure: 
        4P2SLpRUBj4WLF4t1yELPaBQ10aHq5UXSIAD9ozDrqOgdXSsv3hamk8jqRwMTIIYnGfra7WBp7EaiCn/+BVygFKS6+uXPtpLjZobA3GLbFNhULdJZIdqRBTlql2bq+ImIFOM2kdZeayd/PqWD8XPA8I4OqYbIzgGUp5tGDIXk4JUCXKIQvWCZyoMXns8mArXEuEjfwb+nxmE9Xa/RGCaR2O6/2c8gne5wNgNXQDXT/6juokCgZhPIOqfaPTMJawrBkS9tSyJ5jrGKc8Ojt+o+ywQu0Rw5zA0Ia+98So0gC/cNGLJ0ANK1G9GBPbIQGQj4+d9MmTO55Tx5S0eHgp895/ej8Wjj0MqCc0QQp22JYhFCc1qt9aXwp4Q39sVDvHLsj3rpnRtrq+JD2E+VuSle0DyrZijT+q2NE/U+XNZTZa5IlK6tIQen/IWphm1Ikm/F9r2WQt5M01GX4qZGtnQwRNfsw3zKtuMNvKMpDTH7T9nlf8owJC+vaW0ZtyBQnchzNQRpe6cD384hvtCDBxWtY/O6+Engt0J8BJlQGppJH4asbaem9dWgulEdjs154yRrdjwnzmrv/cHsGqf3//K0u0Mp8vflXrbPPYKfDPOOE8e+Ki4yQM3ivy6xSZvlZgAB/a8l2yb5nWr8toN61u6ZZ2S4w26SLXQyQjr0vTtRrE=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      N68DKTWA99zseRsJVB2aKNVxnXdQTD8sizWyKJqb1yFKXBRIqCz1zoOdPXLo/K2vanFc7DJ5LZqQjoEGf/vM/L7qV5Mws62jzFkTIMVnL7OyCt8yFlnKNf81zAD7cPowcLLZT/u6jpCXTODT2akHt0Q1YHIIdvTHQNAUMQ9JSpiLJQqt6kvfFsuq8W1fgOWuJQLRMw6PQMiCIby7FtuYNiXR3e4wmzrob4JJLZtBAd/EPlHGjPlpFBdiAfmVBR1tp6ibnUNgv0HMm7dxu9128spOLcgtBiqDRaUVFoF0InGoux1rRaIF/FuMtcupQjgHGQTz3FW6XbLygh6GH2Qc/+4tQS7ZTP42aeXGwt8UqQqIabMpaz1nAojxz4av8sw/CKZMwGwc9LbuDsBbnxLF6N2GtDHODy11rIuq5BxFYuaCncb+TCZaAUtsY94Ijp4zoRczpQbdLwJGbJm4v0G5qRXHDcvvTHufeQCdA69WZc156aOPY6J7Kliqxu6gXwtqZ/HHmRqxwJy7EtKNW5mImQP920ZfiFwWhuLbInWKzlo6TiuTlsWQJemvCfc+27ElOST98c9MnjRJ20v9fXn3kBit1bQxa/yPGe09S1bk8mhaJw3xwPP2vDx0zG+U9gGBAsi/tns3VxUqFEIUkWD6T9PVT6w6w7Zwh/+ZeeBI/5w=
